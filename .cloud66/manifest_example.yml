default: &default

    #the stack section is only required when building from the command line: ie. "c66-deploy production" (or "c66-deploy --env=production --manifest=/location/manifest")
    stack:
        name: bananatree
        git_repo: git@github.blahblahblah.com
        git_branch: master    
        
    rails: 
        server: 
            unique_name: frontend
            type: bring_your_own_cloud
                vendor: aws
                size: small
                region: eu
                distro: ubuntu        
        configuration: 
            #version: 3.2.9 --> always detected
            ruby_version: 1.9.3
            execute_db_migrate: true
            use_asset_pipeline: true        
        extra_packages:
              - blahblah
              - abc123

    postgresql:
        server: 
            unique_name: postgresql_server
            type: bring_your_own_server
                address: 1.2.3.4
                user: freddy
                ssh_key: my_key
        configuration:
            version: 9.2.2

    redis:
        shared_server: frontend        
        configuration:
            version: 2.6.4        

    mysql: external 



#environment specific
staging:
    <<: *default
    environment: staging

production:
    <<: *default
    redis_database:
        box: 
            name: redis_server
            size: medium
            region: eu
            distro: ubuntu
        redis:
            version: 2.6.5


